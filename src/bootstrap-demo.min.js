Demo=function(){this.showing=false;this.options={id:false,persist:true,cookie_name:"_demo",cookie_days:365,callback:false,prevent_default:true,html:true,placement:"auto",title:'<i class="glyphicon glyphicon-bell"></i> TIP',content:'Click anywhere inside of the <span class="text-danger">highlighted</span> area to dismiss this popup.',styles:".demo-highlight{cursor:pointer;outline:3px solid #FBB829;}"};this.setCookie=function(e,t,n){if(n){var r=new Date;r.setTime(r.getTime()+n*24*60*60*1e3);var i="; expires="+r.toGMTString()}else{var i=""}document.cookie=e+"="+t+i+"; path=/; domain="+window.location.hostname};this.getCookie=function(e,t){var n=document.cookie.split(/;\s*/);e+="=";for(var r=n.length-1;r>=0;r--){if(!n[r].indexOf(e)){return n[r].replace(e,"")}}return t};this.removeCookie=function(e){this.setCookie(e,"",-1)};this.getSeenDemos=function(){var e=this.getCookie(this.options.cookie_name,"[]");return jQuery.parseJSON(e)};this.setSeenDemos=function(e){var t=JSON.stringify(e);this.setCookie(this.options.cookie_name,t,this.options.cookie_days)};this.isDemoSeen=function(e){if(!this.options.persist){return false}var t=this.getSeenDemos();return jQuery.inArray(e,t)!==-1};this.setDemoSeen=function(e){if(!this.options.persist){return false}var t=this.getSeenDemos();t.push(e);this.setSeenDemos(t)};this.addStyles=function(){if(jQuery("style#demo-styles").length){return}jQuery("head").append('<style id="demo-styles" type="text/css">'+this.options.styles+"</style>")}};(function(e){window.demo=new Demo;e.fn.demo=function(t){var n=e.extend(true,{},window.demo);if(n.showing){return this}e.extend(n.options,this.data(),t);if(n.isDemoSeen(n.options.id)){return this}n.setDemoSeen(n.options.id);n.addStyles();this.addClass("demo-highlight");var r=this;var i=this.first();i.popover({html:n.options.html,placement:n.options.placement,title:n.options.title,content:n.options.content}).popover("show");if(n.options.prevent_default){setTimeout(function(){n.showing=true;e(document).on("click.demo, submit.demo, mousedown.demo, change.demo",false)},0)}this.one("click",function(t){i.popover("destroy");r.removeClass("demo-highlight");n.showing=false;e(document).off("click.demo, submit.demo, mousedown.demo, change.demo");if(n.options.callback){if(typeof n.options.callback=="string"){e(n.options.callback).demo()}else{n.options.callback(t)}}return!n.options.prevent_default});return this};e(document).ready(function(){e('[data-provide="demo"]').each(function(t){e(this).demo()})})})(jQuery)
